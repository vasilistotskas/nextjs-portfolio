@import 'tailwindcss';

/* ═══════════════════════════════════════════════════════════
   SEMANTIC TOKENS
   Light-first; overridden under .dark (applied by next-themes)
   ═══════════════════════════════════════════════════════════ */
@layer base {
	:root {
		/* Light — GitHub-inspired (refined) */
		--bg: #f6f8fa;
		--surface: #ffffff;
		--surface-elevated: #ffffff;
		--border: #d0d7de;
		--text: #1f2328;
		--muted: #57606a;
		--comment: #6e7781;
		--green: #1a7f37;
		--cyan: #0969da;
		--prompt: #cf222e;
		--yellow: #9a6700;
		--purple: #8250df;
		--glow: #0969da;
		color-scheme: light;
	}

	.dark {
		/* Dark — GitHub Dark-inspired */
		--bg: #0d1117;
		--surface: #161b22;
		--surface-elevated: #1c2333;
		--border: #30363d;
		--text: #c9d1d9;
		--muted: #848d97;
		--comment: #8b949e;
		--green: #39d353;
		--cyan: #58a6ff;
		--prompt: #f78166;
		--yellow: #e3b341;
		--purple: #bc8cff;
		--glow: #58a6ff;
		color-scheme: dark;
	}
}

/* ═══════════════════════════════════════════════════════════
   TAILWIND THEME
   References semantic tokens → auto-generates bg-*, text-*, border-*
   ═══════════════════════════════════════════════════════════ */
@theme {
	--font-mono: 'Geist Mono', 'Fira Code', 'Cascadia Code', monospace;
	--font-sans: 'Geist', system-ui, sans-serif;

	--color-terminal-bg: var(--bg);
	--color-terminal-surface: var(--surface);
	--color-terminal-surface-elevated: var(--surface-elevated);
	--color-terminal-border: var(--border);
	--color-terminal-text: var(--text);
	--color-terminal-muted: var(--muted);
	--color-terminal-comment: var(--comment);
	--color-terminal-green: var(--green);
	--color-terminal-cyan: var(--cyan);
	--color-terminal-prompt: var(--prompt);
	--color-terminal-yellow: var(--yellow);
	--color-terminal-purple: var(--purple);
	--color-terminal-glow: var(--glow);

	/* Traffic-light dots — always fixed */
	--color-dot-red: #ff5f57;
	--color-dot-yellow: #ffbd2e;
	--color-dot-green: #28c840;
}

/* ═══════════════════════════════════════════════════════════
   KEYFRAMES
   ═══════════════════════════════════════════════════════════ */
@keyframes cursor-blink {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
}

/* ═══════════════════════════════════════════════════════════
   BASE
   ═══════════════════════════════════════════════════════════ */
@layer base {
	html {
		font-family: var(--font-sans);
		scroll-behavior: smooth;
	}

	body {
		background-color: var(--bg);
		color: var(--text);
		font-family: var(--font-sans);
		/* Subtle dot-grid texture — wider spacing */
		background-image: radial-gradient(
			circle,
			color-mix(in srgb, var(--border) 60%, transparent) 1px,
			transparent 1px
		);
		background-size: 32px 32px;
	}

	code,
	pre,
	kbd,
	samp {
		font-family: var(--font-mono);
	}

	::selection {
		background-color: color-mix(in srgb, var(--cyan) 22%, transparent);
		color: var(--text);
	}

	:focus-visible {
		outline: 2px solid var(--cyan);
		outline-offset: 2px;
		border-radius: 3px;
	}

	* {
		scrollbar-width: thin;
		scrollbar-color: var(--border) transparent;
	}
}

/* ═══════════════════════════════════════════════════════════
   UTILITIES
   ═══════════════════════════════════════════════════════════ */
@layer utilities {
	/* Terminal chrome */
	.terminal-border {
		border: 1px solid var(--border);
	}

	/* Glow halos */
	.glow-green {
		box-shadow:
			0 0 15px -3px color-mix(in srgb, var(--green) 45%, transparent),
			0 0 45px -12px color-mix(in srgb, var(--green) 20%, transparent);
	}

	.glow-cyan {
		box-shadow:
			0 0 15px -3px color-mix(in srgb, var(--cyan) 45%, transparent),
			0 0 45px -12px color-mix(in srgb, var(--cyan) 20%, transparent);
	}

	/* Gradient text */
	.text-gradient {
		background: linear-gradient(135deg, var(--green) 30%, var(--cyan) 100%);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	/* Glass morphism */
	.glass {
		background-color: color-mix(in srgb, var(--surface) 80%, transparent);
		backdrop-filter: blur(16px) saturate(180%);
		-webkit-backdrop-filter: blur(16px) saturate(180%);
	}

	/* Card hover lift + gradient border */
	.card-hover {
		transition:
			border-color 0.25s ease,
			transform 0.25s ease,
			box-shadow 0.25s ease;
	}
	.card-hover:hover {
		border-color: color-mix(in srgb, var(--cyan) 40%, transparent);
		transform: translateY(-3px);
		box-shadow:
			0 0 0 1px color-mix(in srgb, var(--cyan) 15%, transparent),
			0 12px 40px -8px color-mix(in srgb, var(--cyan) 18%, transparent);
	}

	/* Accent line beneath section headings */
	.section-accent {
		width: 3rem;
		height: 2px;
		margin-top: 0.75rem;
		background: linear-gradient(90deg, var(--green), var(--cyan));
		border-radius: 1px;
	}

	/* Section divider */
	.section-divider {
		height: 1px;
		background: linear-gradient(
			90deg,
			transparent,
			color-mix(in srgb, var(--border) 60%, transparent) 50%,
			transparent
		);
	}

	/* Blinking cursor */
	.cursor-blink {
		animation: cursor-blink 1.1s step-end infinite;
	}

	/* Noise overlay — CSS-only SVG filter */
	.noise-overlay {
		position: relative;
	}
	.noise-overlay::before {
		content: '';
		position: absolute;
		inset: 0;
		border-radius: inherit;
		opacity: 0.03;
		pointer-events: none;
		z-index: 1;
		background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
		background-repeat: repeat;
		background-size: 128px 128px;
	}

	/* Gradient top border accent for cards */
	.gradient-border-top {
		position: relative;
	}
	.gradient-border-top::after {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 2px;
		background: linear-gradient(90deg, var(--green), var(--cyan));
		border-radius: 1px 1px 0 0;
	}
}
